<!DOCTYPE html>
<html dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<title>ุจุงุฒ ุญฺฉู ุขููุงู</title>
<link rel="stylesheet" href="css/main.css">
<link rel="stylesheet" href="css/cards.css">
<link rel="stylesheet" href="css/modals.css">
</head>
<body>

<div id="lobby">
  <div class="box" style="text-align:center">
    <h2 style="color:#ffd700;margin-bottom:10px">โ๏ธ ุจุงุฒ ุญฺฉู ุขููุงู โฅ๏ธ</h2>
    <p style="font-size:12px;color:#aaa;margin-bottom:15px">ุจุง ุฏูุณุชุงูุชุงู ุขููุงู ุจุงุฒ ฺฉูุฏ</p>
    <input id="name" placeholder="ูุงู ุดูุง"><br>
    <input id="room" placeholder="ฺฉุฏ ุงุชุงู"><br>
    <button onclick="joinRoom()">๐ช ูุฑูุฏ ุจู ุจุงุฒ</button>
  </div>
  <div id="playerList" class="box" style="display:none">
    <b>๐ฅ ุจุงุฒฺฉูุงู:</b>
    <div id="players"></div>
    <p style="font-size:11px;margin:10px 0;color:#aaa">๐ด ุชูฑ: ุจุงุฒฺฉู ฑูณ | ๐ต ุชูฒ: ุจุงุฒฺฉู ฒูด</p>
    <button id="readyBtn" onclick="setReady()">โ ุขูุงุฏูโุงู!</button>
  </div>
</div>

<div id="game" style="display:none">
  <div id="scores" class="box">
    <span class="score-box team0">๐ด ุชูฑ: <b id="s0">0</b></span>
    <span class="score-box team1">๐ต ุชูฒ: <b id="s1">0</b></span>
  </div>

  <div id="info"></div>

  <!-- ููุงุด ฺฉุงุฑุชโูุง ุจุงุฒฺฉูุงู ุฏฺฏุฑ -->
  <div id="otherPlayers">
    <div id="playerTop" class="other-player top">
      <div class="player-label"></div>
      <div class="cards-back"></div>
    </div>
    <div id="playerLeft" class="other-player left">
      <div class="player-label"></div>
      <div class="cards-back"></div>
    </div>
    <div id="playerRight" class="other-player right">
      <div class="player-label"></div>
      <div class="cards-back"></div>
    </div>
  </div>

  <div id="roundScoresBox" class="box" style="display:none;text-align:center">
    <b>๐ ุงูุชุงุฒ ุงู ุฏุณุช:</b> ๐ด ุชูฑ: <span id="rs0">0</span> | ๐ต ุชูฒ: <span id="rs1">0</span>
  </div>

  <div id="propHistoryBox" class="box" style="display:none">
    <b>๐ ุฑููุฏ ุงูุชุฎุงุจ ุญุงฺฉู:</b>
    <div id="propHistory"></div>
  </div>

  <div class="box">
    <div id="dropZone">
      <div id="played"><span style="color:#777">๐ด ฺฉุงุฑุช ุฑุง ุงูุฌุง ุฑูุง ฺฉูุฏ</span></div>
    </div>
  </div>

  <div class="box">
    <b>๐ ุฏุณุช ุดูุง (<span id="handCount">0</span>):</b>
    <div id="myHand"></div>
  </div>

  <div id="controls" class="box" style="text-align:center;min-height:45px"></div>
  
  <div class="box">
    <div id="log"></div>
  </div>
</div>

<!-- ููุฏุงู ุงูุชุฎุงุจ ุญุงูุช ุจุงุฒ -->
<div id="modeModal" class="modal-overlay" style="display:none">
  <div class="modal">
    <h3>๐ฏ ุงูุชุฎุงุจ ููุน ุจุงุฒ</h3>
    <p style="color:#aaa;margin-bottom:10px">ุญุงูุช ุจุงุฒ ู ุฎุงู ุญฺฉู ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ:</p>
    
    <div class="mode-section">
      <h4>๐ด ุจุง ุญฺฉู (ุจุฑุด ูโุดูุฏ)</h4>
      
      <input type="radio" name="gameMode" id="modeHokm" value="hokm" class="mode-option">
      <label for="modeHokm" class="mode-label">
        <div class="mode-title">๐ ุญฺฉู</div>
        <div class="mode-desc">ุญุงูุช ุงุณุชุงูุฏุงุฑุฏ - ุขุณ ููโุชุฑูุ ุฏููู ุถุนูโุชุฑู</div>
        <div class="mode-order">ูุฏุฑุช: 2 โ 3 โ ... โ K โ A</div>
      </label>
      
      <input type="radio" name="gameMode" id="modeNars" value="nars" class="mode-option">
      <label for="modeNars" class="mode-label">
        <div class="mode-title">โฌ๏ธ ููุฑุณ</div>
        <div class="mode-desc">ุชุฑุชุจ ูุนฺฉูุณ - ุฏููู ููโุชุฑูุ ุขุณ ุถุนูโุชุฑู</div>
        <div class="mode-order">ูุฏุฑุช: A โ K โ ... โ 3 โ 2</div>
      </label>
      
      <input type="radio" name="gameMode" id="modeAsNars" value="asNars" class="mode-option">
      <label for="modeAsNars" class="mode-label">
        <div class="mode-title">๐ฐ๏ธ ุขุณ ููุฑุณ</div>
        <div class="mode-desc">ุขุณ ููโุชุฑูุ ุดุงู ุถุนูโุชุฑู</div>
        <div class="mode-order">ูุฏุฑุช: K โ Q โ ... โ 2 โ A</div>
      </label>
      
      <div id="suitSelectorWithTrump" class="suit-selector" style="display:none">
        <span style="color:#aaa;font-size:12px;width:100%;margin-bottom:5px">ุฎุงู ุญฺฉู:</span>
        <button type="button" class="suit-btn black" data-suit="โ" onclick="selectSuit('โ')">โ</button>
        <button type="button" class="suit-btn red" data-suit="โฅ" onclick="selectSuit('โฅ')">โฅ</button>
        <button type="button" class="suit-btn red" data-suit="โฆ" onclick="selectSuit('โฆ')">โฆ</button>
        <button type="button" class="suit-btn black" data-suit="โฃ" onclick="selectSuit('โฃ')">โฃ</button>
      </div>
    </div>
    
    <div class="mode-section">
      <h4>๐ซ ุจุฏูู ุญฺฉู (ุจุฑุด ููโุดูุฏ)</h4>
      <input type="radio" name="gameMode" id="modeSars" value="sars" class="mode-option">
      <label for="modeSars" class="mode-label">
        <div class="mode-title">๐ ุณูุฑุณ</div>
        <div class="mode-desc">ุจุฏูู ุญฺฉู - ููุท ฺฉุงุฑุช ููุฎุงู ูโุชูุงูุฏ ุจุจุฑุฏ</div>
        <div class="mode-order">ูุฏุฑุช: 2 โ 3 โ ... โ K โ A</div>
      </label>
    </div>
    
    <div class="confirm-section">
      <div id="selectedModeDisplay" class="selected-mode" style="display:none">
        ุงูุชุฎุงุจ ุดูุง: <b id="selectedModeText"></b>
      </div>
      <button id="confirmModeBtn" onclick="confirmMode()" disabled style="width:100%">
        โ๏ธ ุงุจุชุฏุง ุญุงูุช ุจุงุฒ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
      </button>
    </div>
  </div>
</div>

<!-- ููุฏุงู ุชุงุฏ -->
<div id="confirmModal" class="modal-overlay" style="display:none">
  <div class="modal">
    <h3>โ๏ธ ุชุงุฏ ุงูุชุฎุงุจ</h3>
    <div style="padding:20px;background:rgba(255,215,0,0.1);border-radius:10px;margin:15px 0">
      <p style="font-size:18px;margin-bottom:10px">ุขุง ูุทูุฆู ูุณุชุฏุ</p>
      <p id="confirmModeInfo" style="font-size:16px;color:#ffd700"></p>
      <p id="confirmModeDesc" style="font-size:12px;color:#aaa;margin-top:10px"></p>
    </div>
    <p style="font-size:12px;color:#f66;margin-bottom:15px">โ๏ธ ูพุณ ุงุฒ ุชุงุฏุ ุงูฺฉุงู ุชุบุฑ ูุฌูุฏ ูุฏุงุฑุฏ!</p>
    <button onclick="finalConfirm()" style="background:linear-gradient(145deg,#4CAF50,#388E3C);width:45%">โ ุจูู</button>
    <button onclick="cancelConfirm()" class="danger" style="width:45%">โ ุงูุตุฑุงู</button>
  </div>
</div>

<!-- ููุฏุงู ูุชุฌู ุฏุณุช -->
<div id="resultModal" class="modal-overlay" style="display:none">
  <div class="modal result-modal">
    <h3>๐ ูุชุฌู ุฏุณุช</h3>
    <div id="resultCards" class="result-cards"></div>
    <div id="resultInfo" class="result-info"></div>
    <div id="countdown" class="countdown"></div>
  </div>
</div>

<script src="/socket.io/socket.io.js"></script>
<script src="js/utils.js"></script>
<script src="js/cards.js"></script>
<script src="js/ui.js"></script>
<script src="js/app.js"></script>
</body>
</html>